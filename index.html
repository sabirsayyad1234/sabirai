<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MindBot</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0b1d33;
}

/* LOGIN */
#login{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
}
.login-box{
  background:#06162d;
  padding:30px;
  border-radius:15px;
  width:300px;
  text-align:center;
}
.login-box input,.login-box button{
  width:100%;
  padding:10px;
  margin:10px 0;
  border:none;
  border-radius:8px;
}
.login-box button{
  background:#00bfff;
  color:white;
  cursor:pointer;
}

/* APP */
#app{display:none;color:white;}

.header{
  height:60px;
  background:#06162d;
  display:flex;
  align-items:center;
  padding:0 15px;
  gap:10px;
}
.menu{font-size:22px;cursor:pointer;}

.logo img{width:38px;height:38px;}
.title{font-size:22px;font-weight:bold;}
.title span{color:#00bfff;}

/* SIDEBAR */
.sidebar{
  position:fixed;
  top:0;left:-300px;
  width:260px;height:100%;
  background:white;color:black;
  padding:15px;
  transition:.3s;
  z-index:10;
}
.sidebar ul{list-style:none;padding:0;margin-top:20px;}
.sidebar li{
  padding:10px;
  cursor:pointer;
  border-radius:8px;
}
.sidebar li:hover{background:#eee;}

.profile{
  position:absolute;
  bottom:20px;
  display:flex;
  gap:10px;
  align-items:center;
  font-weight:bold;
}
.circle{
  width:35px;height:35px;
  background:#1e88e5;
  color:white;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* CHAT */
.chat{
  width:360px;
  height:520px;
  background:white;
  margin:20px auto;
  border-radius:15px;
  display:flex;
  flex-direction:column;
  color:black;
}
.chat-box{
  flex:1;
  background:#ece5dd;
  padding:10px;
  overflow-y:auto;
}
.msg{
  max-width:70%;
  padding:8px 12px;
  margin:5px;
  border-radius:10px;
}
.user{background:#dcf8c6;margin-left:auto;}
.bot{background:white;}

.input{
  display:flex;
  padding:10px;
  gap:5px;
}
.input input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:1px solid #ccc;
}
.input button{
  border:none;
  border-radius:50%;
  width:40px;
  cursor:pointer;
  color:white;
}
.send{background:#075e54;}
.mic{background:#1e88e5;}

@media(max-width:600px){
  .chat{
    width:95%;
    height:calc(100vh - 90px);
  }
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <h2>Mind<span style="color:#00bfff">Bot</span></h2>
    <input placeholder="Username" id="username">
    <input type="password" placeholder="Password">
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="header">
    <span class="menu" onclick="toggleMenu()">â˜°</span>
    <div class="logo"><img src="sabir.png.jpeg" alt="MindBot Logo"></div>
    <div class="title">Mind<span>Bot</span></div>
  </div>

  <div class="sidebar" id="side">
    <ul>
      <li onclick="newChat()">â• New Chat</li>
      <li onclick="viewHistory()">ğŸ•’ History</li>
      <li onclick="setLang('en')">ğŸŒ English</li>
      <li onclick="setLang('hi')">ğŸŒ Hindi</li>
      <li onclick="setLang('mr')">ğŸŒ Marathi</li>
      <li onclick="logout()">ğŸ”“ Logout</li>
    </ul>

    <div class="profile">
      <div class="circle" id="userCircle">U</div>
      <span id="userName">User</span>
    </div>
  </div>

  <div class="chat">
    <div class="chat-box" id="chat">
      <div class="msg bot">Hi ğŸ‘‹ à¤®à¥€ MindBot à¤†à¤¹à¥‡</div>
    </div>

    <div class="input">
      <input id="msg" placeholder="Type or speak...">
      <button class="mic" onclick="startVoice()">ğŸ¤</button>
      <button class="send" onclick="sendMsg()">â¤</button>
    </div>
  </div>
</div>

<script>
const loginDiv=document.getElementById("login");
const appDiv=document.getElementById("app");
const side=document.getElementById("side");
const chat=document.getElementById("chat");
const msg=document.getElementById("msg");
const usernameInput=document.getElementById("username");
const userNameDisplay=document.getElementById("userName");
const userCircle=document.getElementById("userCircle");

let sidebar=false;
let lang=localStorage.getItem("lang")||"en";

/* LOGIN */
if(localStorage.getItem("login")==="yes"){
  userNameDisplay.textContent = localStorage.getItem("username") || "User";
  showApp();
}

function login(){
  const uname = usernameInput.value.trim() || "User";
  localStorage.setItem("login","yes");
  localStorage.setItem("username", uname);
  userNameDisplay.textContent = uname;
  userCircle.textContent = uname[0].toUpperCase();
  showApp();
}

function logout(){
  localStorage.removeItem("login");
  location.reload();
}

function showApp(){
  loginDiv.style.display="none";
  appDiv.style.display="block";
}

/* SIDEBAR */
function toggleMenu(){
  side.style.left = sidebar ? "-300px" : "0";
  sidebar=!sidebar;
}
document.addEventListener("click", e=>{
  if(sidebar && !side.contains(e.target) && !e.target.classList.contains("menu")){
    side.style.left="-300px"; sidebar=false;
  }
});

/* LANGUAGE */
function setLang(l){
  lang=l;
  localStorage.setItem("lang",l);
  addMsg(
    l==="en"?"Language changed to English":
    l==="hi"?"à¤­à¤¾à¤·à¤¾ à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‡à¤‚ à¤¬à¤¦à¤² à¤¦à¥€ à¤—à¤ˆ":
    "à¤­à¤¾à¤·à¤¾ à¤®à¤°à¤¾à¤ à¥€à¤¤ à¤¬à¤¦à¤²à¤²à¥€",
    "bot"
  );
}

/* CHAT */
function addMsg(text,type){
  const d=document.createElement("div");
  d.className="msg "+type;
  d.innerText=text;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
}

function sendMsg(){
  if(msg.value.trim()=="")return;
  addMsg(msg.value,"user");
  autoReply(msg.value);
  msg.value="";
}

/* SMART REPLY */
function autoReply(userText){
  const t=userText.toLowerCase();
  let reply="";

  if(t.includes("hi")||t.includes("hello")||t.includes("à¤¨à¤®à¤¸à¥à¤•à¤¾à¤°")){
    reply = lang==="en"?"Hi! How are you ğŸ˜Š":
            lang==="hi"?"à¤¨à¤®à¤¸à¥à¤¤à¥‡! à¤†à¤ª à¤•à¥ˆà¤¸à¥‡ à¤¹à¥ˆà¤‚ ğŸ˜Š":
            "à¤¨à¤®à¤¸à¥à¤•à¤¾à¤°! à¤•à¤¸à¤¾ à¤†à¤¹à¥‡à¤¸ ğŸ˜Š";
  }
  else if(t.includes("how are you")||t.includes("kasa aahes")||t.includes("kaise ho")){
    reply = lang==="en"?"Iâ€™m good ğŸ˜Š You can talk to me freely.":
            lang==="hi"?"à¤®à¥ˆà¤‚ à¤ à¥€à¤• à¤¹à¥‚à¤ ğŸ˜Š à¤®à¥à¤à¤¸à¥‡ à¤¦à¥‹à¤¸à¥à¤¤ à¤•à¥€ à¤¤à¤°à¤¹ à¤¬à¤¾à¤¤ à¤•à¤°à¥‹à¥¤":
            "à¤®à¥€ à¤›à¤¾à¤¨ à¤†à¤¹à¥‡ ğŸ˜Š à¤¤à¥‚ à¤®à¤¾à¤à¥à¤¯à¤¾à¤¶à¥€ à¤®à¥‹à¤•à¤³à¥‡à¤ªà¤£à¤¾à¤¨à¥‡ à¤¬à¥‹à¤².";
  }
  else if(t.includes("joke")||t.includes("à¤œà¥‹à¤•")||t.includes("à¤µà¤¿à¤¨à¥‹à¤¦")){
    reply = lang==="en"
      ? "Why donâ€™t programmers like nature? Because it has too many bugs ğŸ˜„"
      : lang==="hi"
      ? "à¤ªà¥à¤°à¥‹à¤—à¥à¤°à¤¾à¤®à¤° à¤•à¥‹ à¤¨à¥‡à¤šà¤° à¤•à¥à¤¯à¥‹à¤‚ à¤ªà¤¸à¤‚à¤¦ à¤¨à¤¹à¥€à¤‚? à¤•à¥à¤¯à¥‹à¤‚à¤•à¤¿ à¤‰à¤¸à¤®à¥‡à¤‚ à¤¬à¤¹à¥à¤¤ à¤¸à¤¾à¤°à¥‡ bugs à¤¹à¥‹à¤¤à¥‡ à¤¹à¥ˆà¤‚ ğŸ˜„"
      : "à¤ªà¥à¤°à¥‹à¤—à¥à¤°à¤¾à¤®à¤°à¤²à¤¾ à¤¨à¤¿à¤¸à¤°à¥à¤— à¤•à¤¾ à¤†à¤µà¤¡à¤¤ à¤¨à¤¾à¤¹à¥€? à¤•à¤¾à¤°à¤£ à¤¤à¤¿à¤¥à¥‡ à¤–à¥‚à¤ª bugs à¤…à¤¸à¤¤à¤¾à¤¤ ğŸ˜„";
  }
  else{
    reply = lang==="en"?"Okay ğŸ™‚ tell me more.":
            lang==="hi"?"à¤ à¥€à¤• à¤¹à¥ˆ ğŸ™‚ à¤†à¤—à¥‡ à¤¬à¤¤à¤¾à¤‡à¤à¥¤":
            "à¤ à¥€à¤• à¤†à¤¹à¥‡ ğŸ™‚ à¤ªà¥à¤¢à¥‡ à¤¸à¤¾à¤‚à¤—.";
  }

  setTimeout(()=>addMsg(reply,"bot"),600);
}

/* VOICE */
function startVoice(){
  const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;
  if(!SpeechRecognition){alert("Voice not supported");return;}
  const recog=new SpeechRecognition();
  recog.lang=lang==="en"?"en-IN":lang==="hi"?"hi-IN":"mr-IN";
  recog.start();
  recog.onresult=e=>{
    msg.value=e.results[0][0].transcript;
    sendMsg();
  };
}

/* NEW CHAT */
function newChat(){
  chat.innerHTML="";
  addMsg(lang==="en"?"Hi ğŸ‘‹ I am MindBot":"hi"?"Hi ğŸ‘‹ à¤®à¥ˆà¤‚ MindBot à¤¹à¥‚à¤":"Hi ğŸ‘‹ à¤®à¥€ MindBot à¤†à¤¹à¥‡","bot");
}

/* HISTORY */
function viewHistory(){
  alert("Chat history feature is demo only ğŸ™‚");
}
</script>

</body>
</html>